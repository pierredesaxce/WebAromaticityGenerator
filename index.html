<!DOCTYPE html>
<html>
<head>


</head>
<body>

<form action="/action_page.php">
    <input type="file" id="inputFile" name="filename" accept=".xyz" onchange="changeDisplay()">
    <input type="submit">
</form>


<div id="display" class="flex-container">

    <p>uploaded file : </p>

<!--
    citation needed :
    https://academic.oup.com/bioinformatics/article/31/8/1322/213186
    if I forget please remind me
-->


    <script id="molVisuScript" src="https://3Dmol.csb.pitt.edu/build/3Dmol-min.js"></script>

    <div id="preview" style="height: 300px; width: 500px;"
    class='viewer_3Dmoljs' data-datatype='xyz'
    data-backgroundcolor='0xFFFFFF'
    data-href=''
    data-style='stick'>
    </div>



</div>



<script>

function changeDisplay() {

  const [file] = document.getElementById("inputFile").files;

  $('.viewer_3Dmoljs').data('href',URL.createObjectURL(file));

  $3Dmol.autoload();


}



</script>

</body>
</html>